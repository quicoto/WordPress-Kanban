(function(t){function e(e){for(var r,s,i=e[0],c=e[1],l=e[2],u=0,b=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&b.push(a[s][0]),a[s]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);d&&d(e);while(b.length)b.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},a={app:0},o=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=n("5f5b"),o=n("b1e0"),s=(n("f9e3"),n("2dd8"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-container",{attrs:{fluid:""}},[n("b-row",{staticClass:"bg-dark mb-3"},[n("b-col",{staticClass:"text-light pt-3 pb-3",attrs:{"offset-md":"3","offset-lg":"2",cols:"12",md:"9",lg:"10"}},[n("h1",{staticClass:"h4 m-0"},[n("b-icon",{attrs:{icon:"clipboard-check"}}),t._v(" Kanban")],1)])],1),n("b-row",[n("b-col",{attrs:{cols:"12",md:"3",lg:"2"}},[n("MyBoards")],1),n("b-col",{attrs:{cols:"12",md:"9",lg:"10"}},[n("Boards")],1)],1),n("b-row",{staticClass:"bg-dark"},[n("b-col",{staticClass:"text-light pt-3 pb-3",attrs:{"offset-md":"3","offset-lg":"2",cols:"12",md:"9",lg:"10"}},[t._v(" Created with "),n("b-icon",{attrs:{icon:"heart-fill"}}),t._v(" by "),n("a",{staticClass:"text-light",attrs:{href:"https://ricard.blog/"}},[t._v("Ricard Torres")])],1)],1)],1)],1)}),i=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"text-center"},[n("b-icon",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}],attrs:{icon:"circle-fill",animation:"throb","font-scale":"4"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.showLoading&&t.boards.length>0,expression:"!showLoading && boards.length > 0"}]},[n("h2",[t._v("All boards")]),t._l(t.boards,(function(e){return n("b-row",{key:e.id},[n("b-col",{attrs:{cols:"12"}},[n("h2",{staticClass:"mb-3"},[t._v(t._s(e.name))])]),n("b-col",{attrs:{md:"4"}},[n("h5",{staticClass:"mb-3 text-danger d-flex justify-content-between"},[n("span",[t._v("To do")]),n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],attrs:{variant:"outline-secondary",size:"sm"},on:{click:function(n){t.newItem.board=e.term_id}}},[n("b-icon",{attrs:{icon:"plus"}})],1)],1),t._l(e.items.filter((function(t){return 1===t.status})),(function(e){return n("b-card-group",{key:e.id,staticClass:"mb-3"},[n("b-card",{attrs:{"border-variant":"danger",header:e.post_title,"header-bg-variant":"danger","header-text-variant":"white"}},[n("b-card-text",[n("span",{domProps:{innerHTML:t._s(e.post_content)}})])],1)],1)})),n("div",{directives:[{name:"show",rawName:"v-show",value:e.items>3,expression:"board.items > 3"}],staticClass:"text-center"},[n("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-1",modifiers:{"modal-1":!0}}],attrs:{pill:"",variant:"outline-secondary"},on:{click:function(n){t.newItem.board=e.term_id}}},[n("b-icon",{attrs:{icon:"plus"}}),t._v(" New")],1)],1)],2),e.items.length>0?n("b-col",{attrs:{md:"4"}},[n("h5",{staticClass:"mb-3 text-primary"},[t._v("In progress")]),t._l(e.items.filter((function(t){return 2===t.status})),(function(e){return n("b-card-group",{key:e.id,staticClass:"mb-3"},[n("b-card",{attrs:{"border-variant":"primary",header:e.post_title,"header-bg-variant":"primary","header-text-variant":"white"}},[n("b-card-text",[n("span",{domProps:{innerHTML:t._s(e.post_content)}})])],1)],1)}))],2):t._e(),e.items.length>0?n("b-col",{attrs:{md:"4"}},[n("h5",{staticClass:"mb-3 text-success"},[n("b-icon",{attrs:{icon:"check-square"}}),t._v(" Done")],1),t._l(e.items.filter((function(t){return 3===t.status})),(function(e){return n("b-card-group",{key:e.id,staticClass:"mb-3"},[n("b-card",{attrs:{"border-variant":"success",header:e.post_title,"header-bg-variant":"success","header-text-variant":"white"}},[n("b-card-text",[n("span",{domProps:{innerHTML:t._s(e.post_content)}})])],1)],1)}))],2):t._e(),n("b-col",{staticClass:"mt-3 mb-2",attrs:{cols:"12"}},[n("hr")])],1)}))],2),n("b-modal",{attrs:{id:"modal-1",title:"New item","ok-title":"Create"},on:{ok:function(e){return t.createItem()},hidden:function(e){t.newItem.title="",t.newItem.content="",t.newItem.board=null}}},[n("b-form",[n("b-form-group",{attrs:{id:"input-group-1",label:"Item title","label-for":"input-1"}},[n("b-form-input",{attrs:{id:"input-1",type:"text",required:""},model:{value:t.newItem.title,callback:function(e){t.$set(t.newItem,"title",e)},expression:"newItem.title"}})],1),n("b-form-group",{attrs:{id:"input-group-3",label:"Food:","label-for":"input-3"}},[n("b-form-select",{attrs:{id:"input-3",options:t.boardOptions,required:""},model:{value:t.newItem.board,callback:function(e){t.$set(t.newItem,"board",e)},expression:"newItem.board"}})],1),n("b-form-group",{attrs:{id:"input-group-2",label:"Item content","label-for":"input-2"}},[n("b-form-textarea",{attrs:{id:"input-2",rows:"3","max-rows":"6"},model:{value:t.newItem.content,callback:function(e){t.$set(t.newItem,"content",e)},expression:"newItem.content"}})],1)],1)],1)],1)},l=[],d=(n("d81d"),n("b0c0"),n("d3b7"),n("99af"),{allBoards:"kanban/v1/all-boards",createPost:"kanban/v1/create-item"}),u={name:"Boards",data:function(){return{boards:[],showLoading:!0,newItem:{title:"",content:"",board:null}}},computed:{boardOptions:function(){return this.boards.map((function(t){return{value:t.term_id,text:t.name}}))}},methods:{fetchResources:function(){var t=this;this.showLoading=!0,fetch("".concat(window.kanban_.restUrl).concat(d.allBoards)).then((function(t){return t.json()})).then((function(e){t.boards=e,t.showLoading=!1}))},createItem:function(){var t=this,e={board:this.newItem.board,post_title:this.newItem.title,post_content:this.newItem.content,status:1},n={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)};fetch("".concat(window.kanban_.restUrl).concat(d.createPost),n).then((function(){t.fetchResources()}))}},created:function(){this.fetchResources()}},b=u,m=n("2877"),f=Object(m["a"])(b,c,l,!1,null,null,null),p=f.exports,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"text-center"},[n("b-icon",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}],attrs:{icon:"circle-fill",animation:"throb","font-scale":"4"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:!t.showLoading,expression:"!showLoading"}]},[n("h3",[n("b-icon",{attrs:{icon:"folder"}}),t._v(" Your Boards")],1),t.boards?n("ul",t._l(t.boards,(function(e){return n("li",{key:e.id},[t._v(" "+t._s(e.name)+" ("+t._s(e.items.length)+") ")])})),0):t._e(),n("hr")])])},v=[],w={name:"MyBoards",data:function(){return{boards:[],showLoading:!0}},created:function(){var t=this;fetch("".concat(window.kanban_.restUrl).concat(d.allBoards)).then((function(t){return t.json()})).then((function(e){t.boards=e,t.showLoading=!1}))}},g=w,_=Object(m["a"])(g,h,v,!1,null,null,null),x=_.exports,y={name:"App",components:{Boards:p,MyBoards:x}},k=y,I=Object(m["a"])(k,s,i,!1,null,null,null),C=I.exports;r["default"].use(a["a"]),r["default"].use(o["a"]),new r["default"]({render:function(t){return t(C)}}).$mount("#app")}});